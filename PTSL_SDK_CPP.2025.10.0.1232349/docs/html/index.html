<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>PTSL C++ Client: PTSL C++ Client Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="aaxdoxy.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="pure-purple-avid-logo-solid.png"/></td>
  <td id="projectalign">
   <div id="projectname">PTSL C++ Client<span id="projectnumber">&#160;25.10.0</span>
   </div>
   <div id="projectbrief">Pro Tools Scripting Library</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Welcome</span></a></li>
      <li><a href="a04093.html"><span>Commands</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="a04106.html"><span>How&#160;To</span></a></li>
      <li><a href="usergroup0.html"><span>Support</span></a></li>
      <li><a href="modules.html"><span>Release&#160;Notes</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">PTSL C++ Client Documentation </div></div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#autotoc_md0">Welcome</a><ul><li class="level2"><a href="#autotoc_md1">License</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md2">Getting Started</a><ul><li class="level2"><a href="#autotoc_md3">Prerequisites</a></li>
<li class="level2"><a href="#autotoc_md4">Build the PTSL C++ Client Wrapper</a></li>
<li class="level2"><a href="#autotoc_md5">Build and run the ptslcmd example application</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md6">Using the PTSL Client Wrapper</a><ul><li class="level2"><a href="#autotoc_md7">Establish a connection to Pro Tools</a></li>
<li class="level2"><a href="#autotoc_md8">Issue a command to Pro Tools</a></li>
<li class="level2"><a href="#autotoc_md9">Determine whether a command succeeded</a></li>
</ul>
</li>
<li class="level1"><a href="#autotoc_md10">Versioning and compatibility</a></li>
<li class="level1"><a href="#autotoc_md11">Troubleshooting</a><ul><li class="level2"><a href="#autotoc_md12">General FAQ</a></li>
<li class="level2"><a href="#autotoc_md13">Pro Tools Logs</a></li>
<li class="level2"><a href="#autotoc_md14">Conan errors when running the build script</a></li>
<li class="level2"><a href="#autotoc_md15">Requests are refused</a></li>
<li class="level2"><a href="#autotoc_md16">Unexpected errors</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p ><a class="anchor" id="mainpage"></a></p>
<h1><a class="anchor" id="autotoc_md0"></a>
Welcome</h1>
<p >The Pro Tools Scripting Library makes it possible for applications to interact with Pro Tools. PTSL supports RPC with any language supported by the gRPC protocol.</p>
<p >This package includes a reference C++ client implementation for PTSL as well as an example C++ client application, ptslcmd.</p>
<p >For a list of commands provided by the Pro Tools Scripting Library, see <a class="el" href="a00469.html">All commands</a></p>
<h2><a class="anchor" id="autotoc_md1"></a>
License</h2>
<p >All documents in the Pro Tools Scripting Library contain confidential information of Avid. Do not disclose to any third party. Use of the information contained in the Pro Tools Scripting Library is subject to an Avid SDK license. Questions regarding this agreement can be sent to Avid's Audio SDK team at <a href="#" onclick="location.href='mai'+'lto:'+'aud'+'io'+'sdk'+'@a'+'vid'+'.c'+'om'; return false;">audio<span class="obfuscator">.nosp@m.</span>sdk@<span class="obfuscator">.nosp@m.</span>avid.<span class="obfuscator">.nosp@m.</span>com</a>.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Getting Started</h1>
<p >Follow this brief guide to get started with PTSL and use the ptslcmd example application to issue commands to Pro Tools.</p>
<h2><a class="anchor" id="autotoc_md3"></a>
Prerequisites</h2>
<p >Your system must meet the following requirements to build the PTSL C++ client and the ptslcmd example application successfully:</p>
<p >Mac:</p><ul>
<li>Python version &gt;= 3.8</li>
<li>XCode version &gt;= 10.2.1</li>
</ul>
<p >Windows:</p><ul>
<li>Python version &gt;= 3.8</li>
<li>Visual Studio Community Edition (vs2017, vs2019, vs2022)</li>
<li>Windows SDK 11 (10.0.22000)</li>
</ul>
<p >Conan version 1.62.0 as provided in Config/requirements.txt or the latest 1.x version of Conan.</p>
<h2><a class="anchor" id="autotoc_md4"></a>
Build the PTSL C++ Client Wrapper</h2>
<p >The PTSL C++ Client Wrapper is a cmake project that creates a dynamic library for easy integration into your application.</p>
<p >Build the library using the setup/build_cpp_ptsl_sdk.py script. The script takes arguments for the project to build and the build configurations:</p>
<div class="fragment"><div class="line">python3 setup/build_cpp_ptsl_sdk.py --target ptsl.client.cpp --config Debug [--arch] [--os_version] [--vs_compiler]</div>
</div><!-- fragment --><p >The compiled library is placed in the SDK's install directory.</p>
<p >This script sets up a python virtual environment (venv) and uses conan to pull in dependencies (including cmake) to that environment. Finally it uses cmake to perform the build. See the contents of the config directory if you'd like more details on how the build process works.</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Build and run the ptslcmd example application</h2>
<p >The ptslcmd application provides an example of how to use the Client Wrapper library in a PTSL client.</p>
<p >The build_cpp_ptsl_sdk.py script includes an option for building the example application:</p>
<div class="fragment"><div class="line">python3 setup/build_cpp_ptsl_sdk.py --target ptslcmd.sdk --config Debug [--arch] [--os_version] [--vs_compiler]</div>
</div><!-- fragment --><p >ptslcmd provides a command line interface for executing various PTSL API commands. In addition to serving as an example of a simple client, ptslcmd can be used as a way to test out various API methods.</p>
<p >You can check an example of ptslcmd usage and command line arguments in <a class="el" href="a00431.html" title="C++ PTSL client test application.">ptslcmd.cpp</a></p>
<h1><a class="anchor" id="autotoc_md6"></a>
Using the PTSL Client Wrapper</h1>
<p >To use the PTSL C++ client wrapper in your application, create a <a class="el" href="a01328.html">CppPTSLClient</a> object. This class provides a C++ interface to the PTSL inter-process communication and commands.</p>
<p >This example code fragment shows how to instantiate the client using the <a class="el" href="a01348.html">ClientConfig</a> structure to configure and instantiate the client wrapper.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="a00017.html">CppPTSLClient.h</a>&quot;</span></div>
<div class="line"> </div>
<div class="line"><a class="code hl_struct" href="a01348.html">PTSLC_CPP::ClientConfig</a> config</div>
<div class="line">{</div>
<div class="line">    <span class="stringliteral">&quot;localhost:31416&quot;</span>,                              <span class="comment">// server address -- note the server port!</span></div>
<div class="line">    ClientConfig::Mode::ProTools,                   <span class="comment">// turn off stand-alone mode -- look for a server instead of launching our own (see CppPTSLClient::LocateServer)</span></div>
<div class="line">    ClientConfig::SkipHostLaunch::No                <span class="comment">// do not skip auto launch -- try to launch Pro Tools if it is not running already</span></div>
<div class="line">};</div>
<div class="line"><span class="keyword">auto</span> client = std::make_unique&lt;PTSLC_CPP::CppPTSLClient&gt;(config);</div>
<div class="ttc" id="aa00017_html"><div class="ttname"><a href="a00017.html">CppPTSLClient.h</a></div><div class="ttdoc">C++ PTSL client implementation.</div></div>
<div class="ttc" id="aa01348_html"><div class="ttname"><a href="a01348.html">PTSLC_CPP::ClientConfig</a></div><div class="ttdoc">Structure that describes data needed for client's configuring.</div><div class="ttdef"><b>Definition:</b> CppPTSLCommon.h:60</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md7"></a>
Establish a connection to Pro Tools</h2>
<p >Pro Tools requires connection registration before any PTSL commands may be executed by your application.</p>
<p >Use the <a class="el" href="a02472.html">RegisterConnectionRequestBody</a> message to establish a connection to Pro Tools. This request takes 2 required string parameters: <code>company_name</code> and <code>application_name</code>. See <a class="el" href="a00494.html#aaf8d2069e2c6bbecf4aa8f9819028e8aadbcbc9c114ba96f458c70cac0b0c5e0a">RegisterConnection</a> for more details.</p>
<div class="fragment"><div class="line"><a class="code hl_class" href="a01980.html">PTSLC_CPP::CppPTSLRequest</a> request{ <a class="code hl_enumvalue" href="a00491.html#ae5152a79762c33c83fdb5752192e511ca4e17a53a8e094abfcd19d35a3790a64f">PTSLC_CPP::CommandId::RegisterConnection</a>, R<span class="stringliteral">&quot;({ &quot;company_name&quot;: &quot;YOUR COMPANY NAME&quot;, &quot;application_name&quot;: &quot;YOUR APPLICATION NAME&quot; })&quot; };</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral"></span><span class="keyword">auto</span> response = client-&gt;SendRequest(request).get();</div>
<div class="line">ParseResponse(registrationRsp); <span class="comment">// see below</span></div>
<div class="ttc" id="aa00491_html_ae5152a79762c33c83fdb5752192e511ca4e17a53a8e094abfcd19d35a3790a64f"><div class="ttname"><a href="a00491.html#ae5152a79762c33c83fdb5752192e511ca4e17a53a8e094abfcd19d35a3790a64f">PTSLC_CPP::CommandId::RegisterConnection</a></div><div class="ttdeci">@ RegisterConnection</div></div>
<div class="ttc" id="aa01980_html"><div class="ttname"><a href="a01980.html">PTSLC_CPP::CppPTSLRequest</a></div><div class="ttdef"><b>Definition:</b> CppPTSLRequest.h:19</div></div>
</div><!-- fragment --><p >Instead of manually creating a JSON string you can reuse protocol objects to generate it based on the <a class="el" href="a00464.html" title="Copyright 2020-2025 by Avid Technology, Inc.">PTSL.proto</a>. For this option you need to generate <code>PTSL.pb.h</code> using the protobuf compiler.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;PTSL.pb.h&quot;</span></div>
<div class="line"> </div>
<div class="line">...</div>
<div class="line"> </div>
<div class="line">ptsl::RegisterConnectionRequestBody requestBody;</div>
<div class="line">requestBody.set_company_name(<span class="stringliteral">&quot;YOUR COMPANY NAME&quot;</span>);</div>
<div class="line">requestBody.set_application_name(<span class="stringliteral">&quot;YOUR APPLICATION NAME&quot;</span>);</div>
<div class="line"> </div>
<div class="line">google::protobuf::util::JsonOptions jOpts;</div>
<div class="line">jOpts.always_print_primitive_fields = <span class="keyword">true</span>;</div>
<div class="line">jOpts.preserve_proto_field_names = <span class="keyword">true</span>;</div>
<div class="line"> </div>
<div class="line">std::string <a class="code hl_typedef" href="a00002.html#ab701e3ac61a85b337ec5c1abaad6742d">json</a>;</div>
<div class="line"><span class="keywordflow">if</span> (MessageToJsonString(requestBody, &amp;<a class="code hl_typedef" href="a00002.html#ab701e3ac61a85b337ec5c1abaad6742d">json</a>, jOpts).ok())</div>
<div class="line">{</div>
<div class="line">    <span class="keyword">auto</span> response = client-&gt;SendRequest(<a class="code hl_class" href="a01980.html">PTSLC_CPP::CppPTSLRequest</a>{ <a class="code hl_enumvalue" href="a00491.html#ae5152a79762c33c83fdb5752192e511ca4e17a53a8e094abfcd19d35a3790a64f">PTSLC_CPP::CommandId::RegisterConnection</a>, <a class="code hl_typedef" href="a00002.html#ab701e3ac61a85b337ec5c1abaad6742d">json</a> }).get();</div>
<div class="line">}</div>
<div class="line"><span class="keywordflow">else</span></div>
<div class="line">{</div>
<div class="line">    ...</div>
<div class="line">}</div>
<div class="ttc" id="aa00002_html_ab701e3ac61a85b337ec5c1abaad6742d"><div class="ttname"><a href="a00002.html#ab701e3ac61a85b337ec5c1abaad6742d">json</a></div><div class="ttdeci">nlohmann::json json</div><div class="ttdef"><b>Definition:</b> CppPTSLClient.cpp:23</div></div>
</div><!-- fragment --><p >If this command is successful it establishes a connection and provides an associated guid named <code>session_id</code>, which will be used in the request header for all subsequent commands. Note, the <code>session_id</code> persists throughout the life of the currently running instance of Pro Tools and has no correlation with opening and closing Pro Tools sessions. After Pro Tools exits you will need to re-register your client.</p>
<p >The client wrapper keeps track of your <code>session_id</code> for you and submits it in the request header with each of your commands, so you do not need to capture or track it yourself.</p>
<p >See <a class="el" href="a00002.html" title="Implementation file for the CppPTSLClient.h.">Source/CppPTSLClient.cpp</a> for more information about how the client wrapper tracks your <code>session_id</code>.</p>
<h3>Local vs Remote Connection to PTSL Server</h3>
<p >Note the PTSL service currently requires a local client for connection. This is because the server is bound to localhost. As a result, it does not support remote connections at this time.</p>
<h3>PTSL Client Threading in AAX Plugins</h3>
<p >For PTSL integration in AAX plugins, ensure PTSL client code runs in a separate thread. This avoids deadlocks from concurrent PTSL client code execution and incoming request servicing in the main Pro Tools thread.</p>
<h2><a class="anchor" id="autotoc_md8"></a>
Issue a command to Pro Tools</h2>
<p >In the steps below, the <a class="el" href="a00494.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa25599a03f0711edc5699aff815505884">ExportSessionInfoAsText</a> command will be used as an example. This command exports session information into a text file.</p>
<p >The <a class="el" href="a00494.html#aaf8d2069e2c6bbecf4aa8f9819028e8aa25599a03f0711edc5699aff815505884">ExportSessionInfoAsText</a> command is configured using an <a class="el" href="a02296.html">ExportSessionInfoAsTextRequestBody</a> data structure, a collection of parameters used to fill the client app's request to the PTSL server in Pro Tools.</p>
<p >This completed request can now be passed to the <a class="el" href="a01328.html#a2c6a9bfa639cab78fcb3d4159c460c5f">SendRequest</a> method.</p>
<div class="fragment"><div class="line">CppPTSLRequest request{ <a class="code hl_enumvalue" href="a00491.html#ae5152a79762c33c83fdb5752192e511cace22d77e5353bb88f6f315464601fadb">PTSLC_CPP::CommandId::ExportSessionInfoAsText</a>, R<span class="stringliteral">&quot;({</span></div>
<div class="line"><span class="stringliteral">    &quot;include_file_list&quot;: true,</span></div>
<div class="line"><span class="stringliteral">    &quot;include_clip_list&quot;: true,</span></div>
<div class="line"><span class="stringliteral">    &quot;include_markers&quot;: true,</span></div>
<div class="line"><span class="stringliteral">    &quot;include_plugin_list&quot;: true,</span></div>
<div class="line"><span class="stringliteral">    &quot;include_track_edls&quot;: true,</span></div>
<div class="line"><span class="stringliteral">    &quot;show_sub_frames&quot;: true,</span></div>
<div class="line"><span class="stringliteral">    &quot;include_user_timestamps&quot;: true,</span></div>
<div class="line"><span class="stringliteral">    &quot;track_list_type&quot;: &quot;AllTracks&quot;,</span></div>
<div class="line"><span class="stringliteral">    &quot;fade_handling_type&quot;: &quot;ShowCrossfades&quot;,</span></div>
<div class="line"><span class="stringliteral">    &quot;track_offset_options&quot;: &quot;BarsBeats&quot;,</span></div>
<div class="line"><span class="stringliteral">    &quot;text_as_file_format&quot;: &quot;UTF8&quot;,</span></div>
<div class="line"><span class="stringliteral">    &quot;output_type&quot;: &quot;ESI_File&quot;,</span></div>
<div class="line"><span class="stringliteral">    &quot;output_path&quot;: &quot;/path/to/session_info.txt&quot;</span></div>
<div class="line"><span class="stringliteral">})&quot; };</span></div>
<div class="line"><span class="stringliteral"></span> </div>
<div class="line"><span class="stringliteral"></span><span class="keyword">auto</span> response = client-&gt;SendRequest(request).get();</div>
<div class="line">ParseResponse(response); <span class="comment">// see below</span></div>
<div class="ttc" id="aa00491_html_ae5152a79762c33c83fdb5752192e511cace22d77e5353bb88f6f315464601fadb"><div class="ttname"><a href="a00491.html#ae5152a79762c33c83fdb5752192e511cace22d77e5353bb88f6f315464601fadb">PTSLC_CPP::CommandId::ExportSessionInfoAsText</a></div><div class="ttdeci">@ ExportSessionInfoAsText</div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md9"></a>
Determine whether a command succeeded</h2>
<p >It is important to check whether every command has succeeded by analyzing the <a class="el" href="a01984.html">CppPTSLResponse</a> it returns. Command failures may occur for a number of reasons, and your client application should be designed to accept and recover from a command error. Depending on the error condition, a re-try may succeed.</p>
<p >This example shows a test implementation checking a command response for success.</p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> ParseResponse(<span class="keyword">const</span> <a class="code hl_class" href="a01984.html">PTSLC_CPP::CppPTSLResponse</a>&amp; rsp)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordflow">if</span> (rsp.<a class="code hl_function" href="a01984.html#a39a988dde17c5aa799e1d128fc24b0ae">GetStatus</a>() == <a class="code hl_enumvalue" href="a00494.html#aacda182df7dba8ce63a50654d7232ba8af47f90c31ee3cdaa28b81ecf57b72ce9">PTSLC_CPP::CommandStatusType::Completed</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Command completed successfully!\n&quot;</span> &lt;&lt; rsp.<a class="code hl_function" href="a01984.html#a830904d6ccd5018f4de41ab57ff023ce">GetResponseBodyJson</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">    }</div>
<div class="line">    <span class="keywordflow">else</span> <span class="keywordflow">if</span> (rsp.<a class="code hl_function" href="a01984.html#a39a988dde17c5aa799e1d128fc24b0ae">GetStatus</a>() == <a class="code hl_enumvalue" href="a00494.html#aacda182df7dba8ce63a50654d7232ba8a1f506c828f4945d6b5a7bf71445f7d54">PTSLC_CPP::CommandStatusType::Failed</a>)</div>
<div class="line">    {</div>
<div class="line">        std::cout &lt;&lt; <span class="stringliteral">&quot;Command failed!\n&quot;</span> &lt;&lt; rsp.<a class="code hl_function" href="a01984.html#afb5d29338731c7351981441bd9149a8c">GetResponseErrorJson</a>() &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">        <span class="comment">// or</span></div>
<div class="line">        <span class="keywordflow">for</span> (<span class="keyword">const</span> <span class="keyword">auto</span>&amp; error : rsp.<a class="code hl_function" href="a01984.html#a03bc7629d5d06dd1921eb2835cc3948b">GetResponseErrorList</a>().<a class="code hl_variable" href="a01368.html#a450ab3da1da8707cd44ebbecf379d90b">errors</a>)</div>
<div class="line">        {</div>
<div class="line">            std::cout &lt;&lt; (error-&gt;isWarning ? <span class="stringliteral">&quot;Warning &quot;</span> : <span class="stringliteral">&quot;Error &quot;</span>) &lt;&lt; <span class="keyword">static_cast&lt;</span><span class="keywordtype">int</span><span class="keyword">&gt;</span>(error-&gt;errorType) &lt;&lt; <span class="stringliteral">&quot;: &quot;</span> &lt;&lt; error-&gt;errorMessage &lt;&lt; <span class="stringliteral">&quot;\n&quot;</span>;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="aa00494_html_aacda182df7dba8ce63a50654d7232ba8a1f506c828f4945d6b5a7bf71445f7d54"><div class="ttname"><a href="a00494.html#aacda182df7dba8ce63a50654d7232ba8a1f506c828f4945d6b5a7bf71445f7d54">ptsl::Failed</a></div><div class="ttdeci">@ Failed</div><div class="ttdef"><b>Definition:</b> PTSL.proto:4866</div></div>
<div class="ttc" id="aa00494_html_aacda182df7dba8ce63a50654d7232ba8af47f90c31ee3cdaa28b81ecf57b72ce9"><div class="ttname"><a href="a00494.html#aacda182df7dba8ce63a50654d7232ba8af47f90c31ee3cdaa28b81ecf57b72ce9">ptsl::Completed</a></div><div class="ttdeci">@ Completed</div><div class="ttdef"><b>Definition:</b> PTSL.proto:4864</div></div>
<div class="ttc" id="aa01368_html_a450ab3da1da8707cd44ebbecf379d90b"><div class="ttname"><a href="a01368.html#a450ab3da1da8707cd44ebbecf379d90b">PTSLC_CPP::ResponseError::errors</a></div><div class="ttdeci">std::vector&lt; std::shared_ptr&lt; CommandError &gt; &gt; errors</div><div class="ttdef"><b>Definition:</b> CppPTSLCommon.h:1018</div></div>
<div class="ttc" id="aa01984_html"><div class="ttname"><a href="a01984.html">PTSLC_CPP::CppPTSLResponse</a></div><div class="ttdef"><b>Definition:</b> CppPTSLResponse.h:19</div></div>
<div class="ttc" id="aa01984_html_a03bc7629d5d06dd1921eb2835cc3948b"><div class="ttname"><a href="a01984.html#a03bc7629d5d06dd1921eb2835cc3948b">PTSLC_CPP::CppPTSLResponse::GetResponseErrorList</a></div><div class="ttdeci">ResponseError GetResponseErrorList() const</div><div class="ttdef"><b>Definition:</b> CppPTSLResponse.cpp:83</div></div>
<div class="ttc" id="aa01984_html_a39a988dde17c5aa799e1d128fc24b0ae"><div class="ttname"><a href="a01984.html#a39a988dde17c5aa799e1d128fc24b0ae">PTSLC_CPP::CppPTSLResponse::GetStatus</a></div><div class="ttdeci">CommandStatusType GetStatus() const</div><div class="ttdef"><b>Definition:</b> CppPTSLResponse.cpp:42</div></div>
<div class="ttc" id="aa01984_html_a830904d6ccd5018f4de41ab57ff023ce"><div class="ttname"><a href="a01984.html#a830904d6ccd5018f4de41ab57ff023ce">PTSLC_CPP::CppPTSLResponse::GetResponseBodyJson</a></div><div class="ttdeci">std::string GetResponseBodyJson() const</div><div class="ttdef"><b>Definition:</b> CppPTSLResponse.cpp:62</div></div>
<div class="ttc" id="aa01984_html_afb5d29338731c7351981441bd9149a8c"><div class="ttname"><a href="a01984.html#afb5d29338731c7351981441bd9149a8c">PTSLC_CPP::CppPTSLResponse::GetResponseErrorJson</a></div><div class="ttdeci">std::string GetResponseErrorJson() const</div><div class="ttdef"><b>Definition:</b> CppPTSLResponse.cpp:72</div></div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md10"></a>
Versioning and compatibility</h1>
<p >Compatibility information for specific releases is noted in the 'Release Notes' tab.</p>
<p >If a PTSL client application attempts to connect to an incompatible version of Pro Tools, a <a class="el" href="a00491.html#a8fe9e0532a0e4ab36abdbc81b22f0645aa5efd83cacf898e2156e4886847934ab">SDK_VersionMismatch</a> error will be returned.</p>
<p >For more information about versioning, see <a class="el" href="a00446.html">PTSL_Versions.h</a></p>
<h1><a class="anchor" id="autotoc_md11"></a>
Troubleshooting</h1>
<h2><a class="anchor" id="autotoc_md12"></a>
General FAQ</h2>
<p >For answers to the most frequently asked questions, see the <a href="https://kb.avid.com/pkb/articles/FAQ/Pro-Tools-Scripting-SDK-FAQ" target="_blank">Pro Tools Scripting SDK FAQ</a>.</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Pro Tools Logs</h2>
<p >When troubleshooting issues with PTSL it is often useful to review the Pro Tools application logs. Pro Tools log files are written to ~Library/Logs/Avid on Mac and %LocalAppData%\Avid\Logs on Windows.</p>
<p >To enable PTSL-specific logging, place a file named "config.digitrace" next to the Pro Tools application bundle (Mac) or executable (Windows) containing the following line:</p>
<div class="fragment"><div class="line">DTF_PTSL=file@DTP_LOW</div>
</div><!-- fragment --><p >If the PTSL tracing has been enabled properly you should see <code>DTF_PTSL@DTP_LOW(0e28)</code> in the log file's preamble and logs such as "Incoming PTSL command: {...}" when Pro Tools receives commands from the client. All PTSL logging traces will include <code>0e28</code> in the "Facility" column, so you can use that identifier to quickly search the log file for PTSL related information.</p>
<h2><a class="anchor" id="autotoc_md14"></a>
Conan errors when running the build script</h2>
<p >If you see an error referencing a problem with a Conan package when running the setup/build_cpp_ptsl_sdk.py script then follow the steps below.</p>
<p >An example error type that you may see:</p>
<div class="fragment"><div class="line">Error loading conanfile ... Current Conan version does not satisfy the defined one.</div>
</div><!-- fragment --><p >As a quick fix, it is sometimes possible to resolve this problem by clearing the conan cache at ~/.conan/data, then re-running the build script. This will essentially delete all of the PTSL dependencies that have been downloaded already, and this will fix the issue if the underlying problem is a corrupt or invalid package in the cache.</p>
<p >If clearing the cache does not work then the next step is to update the requirements.txt file. This will ensure that both the Conan package itself and all of its dependencies are up-to-date with the requirements from the public conan registry. All of the next steps should be done in the same folder:</p>
<ol type="1">
<li>Rename the existing requirements.txt file to something else.</li>
<li>Create a virtual environment (venv) to store new dependencies <div class="fragment"><div class="line">python -m venv .venv </div>
</div><!-- fragment --></li>
<li>Activate the venv <div class="fragment"><div class="line">source .venv/bin/activate </div>
</div><!-- fragment --></li>
<li>Install the latest Conan package <div class="fragment"><div class="line">pip install conan </div>
</div><!-- fragment --></li>
<li>Install CMake <div class="fragment"><div class="line">pip install cmake==3.25.0 </div>
</div><!-- fragment --></li>
<li>Export to a new requirements.txt file <div class="fragment"><div class="line">pip freeze &gt; requirements.txt </div>
</div><!-- fragment --></li>
<li>Finally, attempt to rebuild using the build script</li>
</ol>
<p >Another class of errors may look like:</p>
<div class="fragment"><div class="line">PtslClient/None: &#39;settings.compiler&#39; value not defined</div>
</div><!-- fragment --><h3>Cause</h3>
<p >Running the build script without the necessary build tools can lead to persistent errors. This happens because Conan creates a default profile that lacks complete information during the initial run.</p>
<h3>Resolution</h3>
<p >To fix this, delete the default Conan profile and re-run the build. Conan will then create a new profile that includes the build tools you’ve installed.</p>
<h2><a class="anchor" id="autotoc_md15"></a>
Requests are refused</h2>
<p >Verify that your client application has issued a <a class="el" href="a00494.html#aaf8d2069e2c6bbecf4aa8f9819028e8aadbcbc9c114ba96f458c70cac0b0c5e0a">RegisterConnection</a> and that the result was successful.</p>
<h2><a class="anchor" id="autotoc_md16"></a>
Unexpected errors</h2>
<p >It is not guaranteed that a command issued by your application will succeed even if it is well-formed. Errors on the Pro Tools application side can occur during normal operation. Your application should be robust against such failures, for example by incorporating a retry sequence for failing commands and by providing suitable UI to prompt the user when a request has failed repeatedly. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!--        Copyright 2016, 2018-2019, 2021-2025 by Avid Technology, Inc.        -->
<!-- HTML footer for doxygen 1.8.9.1-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
    <div class="FooterLegal">
      © 2025 Avid Technology, Inc. All rights reserved. <br />
      This product may be protected by one or more U.S. and non-U.S. patents. Details are available at <a href="https://www.avid.com/patents">www.avid.com/patents</a>.
    </div>
Generated on Fri Oct 17 2025 06:57:28 for PTSL C++ Client by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.9.4
</small></address>
</body>
</html>
